{"identifier":{"url":"doc:\/\/SwiftECC\/documentation\/SwiftECC\/KeyManagement","interfaceLanguage":"swift"},"sections":[],"hierarchy":{"paths":[["doc:\/\/SwiftECC\/documentation\/SwiftECC"]]},"kind":"article","seeAlsoSections":[{"title":"Articles","generated":true,"identifiers":["doc:\/\/SwiftECC\/documentation\/SwiftECC\/EncryptedKeys","doc:\/\/SwiftECC\/documentation\/SwiftECC\/EncryptDecrypt","doc:\/\/SwiftECC\/documentation\/SwiftECC\/AEADEncryptDecrypt","doc:\/\/SwiftECC\/documentation\/SwiftECC\/SignVerify","doc:\/\/SwiftECC\/documentation\/SwiftECC\/KeyAgrement","doc:\/\/SwiftECC\/documentation\/SwiftECC\/CreateDomain","doc:\/\/SwiftECC\/documentation\/SwiftECC\/ECArithmetic","doc:\/\/SwiftECC\/documentation\/SwiftECC\/Performance","doc:\/\/SwiftECC\/documentation\/SwiftECC\/References"]}],"metadata":{"role":"article","roleHeading":"Article","title":"Key Management","modules":[{"name":"SwiftECC"}]},"primaryContentSections":[{"content":[{"level":2,"type":"heading","text":"","anchor":""},{"type":"heading","level":3,"anchor":"Create-new-Keys","text":"Create new Keys"},{"inlineContent":[{"text":"Given a domain, you can generate new public \/ private key pairs.","type":"text"}],"type":"paragraph"},{"text":"Example","type":"heading","level":4,"anchor":"Example"},{"type":"codeListing","syntax":"swift","code":["let domain = Domain.instance(curve: .EC384r1)","let (pubKey, privKey) = domain.generateKeyPair()"]},{"inlineContent":[{"text":"The private key is simply a random positive integer less than the domain order.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The public key is the domain generator point multiplied by the private key."}],"type":"paragraph"},{"inlineContent":[{"text":"Given a private key, say ","type":"text"},{"code":"privKey","type":"codeVoice"},{"text":", you can generate the corresponding public key, like","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["let pubKey = ECPublicKey(privateKey: privKey)"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Given a domain, say "},{"code":"dom","type":"codeVoice"},{"type":"text","text":" and a curve point, say "},{"code":"pt","type":"codeVoice"},{"text":", you can generate a public key, like","type":"text"}]},{"code":["let pubKey = try ECPublicKey(domain: dom, w: pt)"],"syntax":"swift","type":"codeListing"},{"anchor":"Load-existing-Keys","level":3,"text":"Load existing Keys","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can load existing keys from their PEM- or DER encodings."}]},{"text":"Example","anchor":"Example","type":"heading","level":4},{"code":["\/\/ Public key encoding - EC384r1 domain","let pubKeyPem =","\"\"\"","-----BEGIN PUBLIC KEY-----","MHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEQW\/MahMwMTFjwY95uOEdfBVC7HrQhTGGTwxiPlgDiARq","C6y6EQ1Ajkuhe4A02WOltRYQRXKytzspOR25UfgtagURAwxVFYzR9cmi6FRmvvq\/Tsigd\/dAi4FN","jniR7\/Pg","-----END PUBLIC KEY-----","\"\"\"","let pubKey = try ECPublicKey(pem: pubKeyPem)","","\/\/ Private key encoding in PKCS#8 format - EC384r1 domain","let privKeyPem =","\"\"\"","-----BEGIN PRIVATE KEY-----","MIG\/AgEAMBAGByqGSM49AgEGBSuBBAAiBIGnMIGkAgEBBDBmpNziSYmGoWwl7apJM9ZdDBxkJqmx","MScHGXG45ZQXSv7fIuJlsSwxK76nUiiO7gigBwYFK4EEACKhZANiAARBb8xqEzAxMWPBj3m44R18","FULsetCFMYZPDGI+WAOIBGoLrLoRDUCOS6F7gDTZY6W1FhBFcrK3Oyk5HblR+C1qBREDDFUVjNH1","yaLoVGa++r9OyKB390CLgU2OeJHv8+A=","-----END PRIVATE KEY-----","\"\"\"","let privKey = try ECPrivateKey(pem: privKeyPem)","","\/\/ See the key ASN1 structures","print(pubKey)","print(privKey)"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"giving:"}]},{"type":"codeListing","code":["Sequence (2):","  Sequence (2):","    Object Identifier: 1.2.840.10045.2.1","    Object Identifier: 1.3.132.0.34","  Bit String (776): 00000100 01000001 01101111 11001100 01101010 00010011 00110000 00110001 00110001 01100011 11000001 10001111 01111001 10111000 11100001 00011101 01111100 00010101 01000010 11101100 01111010 11010000 10000101 00110001 10000110 01001111 00001100 01100010 00111110 01011000 00000011 10001000 00000100 01101010 00001011 10101100 10111010 00010001 00001101 01000000 10001110 01001011 10100001 01111011 10000000 00110100 11011001 01100011 10100101 10110101 00010110 00010000 01000101 01110010 10110010 10110111 00111011 00101001 00111001 00011101 10111001 01010001 11111000 00101101 01101010 00000101 00010001 00000011 00001100 01010101 00010101 10001100 11010001 11110101 11001001 10100010 11101000 01010100 01100110 10111110 11111010 10111111 01001110 11001000 10100000 01110111 11110111 01000000 10001011 10000001 01001101 10001110 01111000 10010001 11101111 11110011 11100000","","Sequence (4):","  Integer: 1","  Octet String (48): 66 a4 dc e2 49 89 86 a1 6c 25 ed aa 49 33 d6 5d 0c 1c 64 26 a9 b1 31 27 07 19 71 b8 e5 94 17 4a fe df 22 e2 65 b1 2c 31 2b be a7 52 28 8e ee 08","  [0]:","    Object Identifier: 1.3.132.0.34","  [1]:","    Bit String (776): 00000100 01000001 01101111 11001100 01101010 00010011 00110000 00110001 00110001 01100011 11000001 10001111 01111001 10111000 11100001 00011101 01111100 00010101 01000010 11101100 01111010 11010000 10000101 00110001 10000110 01001111 00001100 01100010 00111110 01011000 00000011 10001000 00000100 01101010 00001011 10101100 10111010 00010001 00001101 01000000 10001110 01001011 10100001 01111011 10000000 00110100 11011001 01100011 10100101 10110101 00010110 00010000 01000101 01110010 10110010 10110111 00111011 00101001 00111001 00011101 10111001 01010001 11111000 00101101 01101010 00000101 00010001 00000011 00001100 01010101 00010101 10001100 11010001 11110101 11001001 10100010 11101000 01010100 01100110 10111110 11111010 10111111 01001110 11001000 10100000 01110111 11110111 01000000 10001011 10000001 01001101 10001110 01111000 10010001 11101111 11110011 11100000"],"syntax":"swift"}],"kind":"content"}],"abstract":[{"text":"Creating new keys and loading exsisting keys","type":"text"}],"variants":[{"paths":["\/documentation\/swiftecc\/keymanagement"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"references":{"doc://SwiftECC/documentation/SwiftECC":{"type":"topic","kind":"symbol","title":"SwiftECC","role":"collection","identifier":"doc:\/\/SwiftECC\/documentation\/SwiftECC","abstract":[{"text":"Elliptic Curve Cryptography","type":"text"}],"url":"\/documentation\/swiftecc"},"doc://SwiftECC/documentation/SwiftECC/KeyAgrement":{"identifier":"doc:\/\/SwiftECC\/documentation\/SwiftECC\/KeyAgrement","role":"article","type":"topic","title":"Secret Key Agreement","abstract":[{"type":"text","text":"Generating a shared secret"}],"kind":"article","url":"\/documentation\/swiftecc\/keyagrement"},"doc://SwiftECC/documentation/SwiftECC/EncryptedKeys":{"type":"topic","title":"Encrypted Private Keys","kind":"article","url":"\/documentation\/swiftecc\/encryptedkeys","identifier":"doc:\/\/SwiftECC\/documentation\/SwiftECC\/EncryptedKeys","role":"article","abstract":[{"type":"text","text":"Private keys can be encrypted as described in [PKCS#5] using the PBES2 scheme"}]},"doc://SwiftECC/documentation/SwiftECC/ECArithmetic":{"title":"Elliptic Curve Arithmetic","identifier":"doc:\/\/SwiftECC\/documentation\/SwiftECC\/ECArithmetic","role":"article","abstract":[{"text":"SwiftECC implements the common elliptic curve arithmetic operations","type":"text"}],"url":"\/documentation\/swiftecc\/ecarithmetic","type":"topic","kind":"article"},"doc://SwiftECC/documentation/SwiftECC/EncryptDecrypt":{"abstract":[{"type":"text","text":"ECIES encryption and decryption"}],"title":"Encrypt and Decrypt","identifier":"doc:\/\/SwiftECC\/documentation\/SwiftECC\/EncryptDecrypt","role":"article","type":"topic","kind":"article","url":"\/documentation\/swiftecc\/encryptdecrypt"},"doc://SwiftECC/documentation/SwiftECC/Performance":{"identifier":"doc:\/\/SwiftECC\/documentation\/SwiftECC\/Performance","abstract":[{"type":"text","text":"Execution times for certain SwiftECC operations"}],"type":"topic","kind":"article","role":"article","url":"\/documentation\/swiftecc\/performance","title":"Performance"},"doc://SwiftECC/documentation/SwiftECC/References":{"title":"References","identifier":"doc:\/\/SwiftECC\/documentation\/SwiftECC\/References","role":"article","abstract":[{"text":"Algorithms from the following books and papers have been used in the implementation","type":"text"}],"url":"\/documentation\/swiftecc\/references","type":"topic","kind":"article"},"doc://SwiftECC/documentation/SwiftECC/AEADEncryptDecrypt":{"role":"article","identifier":"doc:\/\/SwiftECC\/documentation\/SwiftECC\/AEADEncryptDecrypt","kind":"article","type":"topic","url":"\/documentation\/swiftecc\/aeadencryptdecrypt","abstract":[{"type":"text","text":"Authenticated Encryption with Associated Data"}],"title":"AEAD Encrypt and Decrypt"},"doc://SwiftECC/documentation/SwiftECC/CreateDomain":{"identifier":"doc:\/\/SwiftECC\/documentation\/SwiftECC\/CreateDomain","title":"Create new Domains","type":"topic","abstract":[{"type":"text","text":"You can create your own domains as illustrated by two examples"}],"url":"\/documentation\/swiftecc\/createdomain","kind":"article","role":"article"},"doc://SwiftECC/documentation/SwiftECC/SignVerify":{"type":"topic","url":"\/documentation\/swiftecc\/signverify","role":"article","abstract":[{"type":"text","text":"Signing data and verifying signatures"}],"kind":"article","title":"Sign and Verify","identifier":"doc:\/\/SwiftECC\/documentation\/SwiftECC\/SignVerify"}}}